#метапрограммирование
```cpp
size_t maxi(int *a, size_t s)  
{  
    int m = a[0];  
    size_t i = 0, j;  
    for (j = 1; j < s; ++j)  
        if (a[j] > m)  
        {  
            m = a[j];  
            i = j;  
        }  
    return i;  
}  
```
А теперь сделаем из обычной функции шаблон

```cpp
template <typename T>  
  
size_t mini(T *a, size_t s)  
{  
    T m = a[0];  
    size_t i = 0, j;  
    for (j = 1; j < s; ++j)  
        if (a[j] < m)  
        {  
            m = a[j];  
            i = j;  
        }  
    return i;  
}
```  
В нашем случае T - это тип данных, который подставляется в шаблон.
Если для этого типа данных не задана функция сравнения (<, >), то код не скомпилируется.
## Использование
```cpp
int i[7];
double d[9];
mini(i, 7);
mini(d, 9);
```
Или можно указывать тип данных как параметр шаблона более явно:
```cpp
maxi <int> i[7];
mini <double> i[9];
```
## Специализация шаблона
Мы можем сделать специализированную версию шаблона, допустим, для типа int:
```cpp
template <>
size_t mini(int *a, size_t s)
{
//какой-то код
return i;
}
```
Этот код будет работать только если уже есть неспециализированный шаблон.

# Инстанцирование
Это создание функции по шаблону для конкретных примеров (типов данных).