# Теория про динамическую память

Пусть мы задаем какой-то массив и мы знаем, сколько элементов в нем, сколько он места занимает и прочее ( статические массивы вида int arr[n] ). То же самое работает и со статическими переменными. В таком случае программа сама выделяет необходимый объем памяти для выполнения. 
Однако так бывает не всегда. Часто мы не можем сказать заранее, сколько места в памяти займет программа или что-либо в ней ( например массивы или те же переменные ). Бывают случаи, когда программе нужно больше оперативной памяти, тогда она обращается к ОС и "просит" дать еще. Этот процесс называется ***выделением динамической памяти***.

Как решить данную проблему? Для этого нужны [[Указатели. Общая информация]] и [[Ссылки. Общая информация]]. Если мы где-то считываем какие-то данные, то мы создаем в нашей программе указатель ( или ярлычок ) на то, что лежит где-то. Он указывает на то место, которое находится в оперативной памяти, где хранятся необходимые данные ( пример с игрой и ярлыком также есть в параграфе [[Sizeof()]] ).

***Иными словами, данные могут храниться вне статической памяти нашей программы, к которым мы можем обращаться при помощи указателя. Этот указатель хранит адрес нужных данных в оперативной памяти.***

![[Pasted image 20231028153149.png]]


# Куча и утечка памяти

- ***Куча ( heep ) - это искомая область оперативной памяти, которая находится вне нашей программы.***
В языке C++ существует проблема. После выполнения программы, место в оперативной памяти, которое отводилось для динамической памяти ( теперь уже нам не нужной ), не очищается самостоятельно, т.е. это наша проблема. Если этого не сделать, то произойдет ***утечка памяти***.
Утечка памяти может произойти и по причине неправильного использования delete и nullptr для указателей. Подробнее здесь: [[NULL и nullptr. Утечка памяти при Delete и nullptr]]

