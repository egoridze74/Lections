Важно знать:
- [[Динамический массив. Общая информация]]
- [[Динамическая память. Утечка памяти. Стек и куча. Статическая память.]]
- [[New. Delete. Работа с динамической памятью]]

# Что такое двумерный динамический массив

Для начала:
При знакомстве с двумерным массивом народ любит рисовать его как таблицу, в которой по номеру строки и столбца можно найти нужный нам элемент. Однако в реальности все выглядит несколько иначе. 
- Двумерный массив - это одномерный массив, элементами которого являются другие одномерные массивы, элементами уже которых являются какие-то данные. 
Примерно это выглядит так: [  [   ]  ,  [    ]  , [    ] ,  [    ]  ]

# Как двумерный массив содержится в памяти

Да вот так:

![[Pasted image 20231029151339.png]]

- Желтый цвет - наша искомая программа
- В ней находится указатель на какой-то одномерный массив.
- В КАЖДОЙ ячейке данного массива содержится еще один указатель на уже другой одномерный массив. 
Таким образом и появляется двумерный массив.

***ИТОГ: в каждой ячейке одного массива ( на который находится указатель в программе ) находится указатель на другой массив.***

![[Pasted image 20231029151725.png]]

# Как задается динамический массив. Как вводить и выводить значения

Пусть мы хотим задать массив 4х5 ( в котором 4 строки и 5 столбцов ).

> int main() {
> 	int rows = 4;
> 	int cols = 5;
> 	***int **arr = new int * [rows];***       ***// задаем первый одномерный массив с указателями***
> 	
> 	***for ( int i = 0; i < rows; ++i ) {    // в каждую ячейку кладем новый дин. массив
> 		arr[i] = new int[cols];
> 	}***
> 	
> 	***for ( int i = 0; i < rows; ++i ) {    // чистим каждую ячейку
> 		delete [] arr[i];
> 	}*** 	
> 	
> 	delete [] arr;                    // только затем удаляем указатель целиком
> }

Разберем код.
- ***int **arr = new int * [rows];*** - так мы задаем массив, состоящий из указателей. Поэтому там мы ставим два знака **. То есть у нас указатель на указатели.
- ***for ( int i = 0; i < rows; ++i ) {    arr[i] = new int[cols];	}*** - здесь мы циклом проходимся по каждому указателю ( ячейке ) первого массива и ему присваиваем новый динамический одномерный массив.
- ***for ( int i = 0; i < rows; ++i ) {    delete [] arr[i];   }*** - здесь мы очищаем массив "построчно". 
- ***delete [] arr;*** - очищаем память.


Ввод и вывод элементов массива производятся так же при помощи двойного цикла for, как и у обычного массива ( хотя, как мы уже знаем, любой массив по своей природе - указатель: [[Арифметика указателей. Указатели и массивы]] ):

>for ( int i = 0; i < rows; ++i ) {
>	for ( int j = 0; j < cols; ++j ) {
>		cout << arr [i]  [j] << " ";
>	}
>	cout << endl;
>}
