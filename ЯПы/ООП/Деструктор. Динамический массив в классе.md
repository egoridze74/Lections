Надо знать:
- [[Конструктор класса.]]
- [[Динамический массив. Общая информация]]

- ***Деструктор*** - специальная функция, которая находится в классе. Вызвать мы ее, как и конструктор, не можем. Он вызывается сам, когда происходит уничтожение объекта класса. В основном это происходит тогда, когда он выходит из области видимости. [[Область видимости. Глобальные переменные и локальные переменные]]

# Пример с конструктором без аргумента

>class MyClass {
>public:
>	MyClass() {
>		cout << "Вызвался конструктор" << endl;
>	}
>	
>	***~MyClass() {
>		cout << "Вызвался деструктор" << endl
>	}***
>} ;
>
>int main() {
>	setlocale( LC_ALL , "ru" );
>	MyClass a;
>	return 0;
>}

***В качестве результатов данной программы получим две строчки: ( Вызвался конструктор ) и ( Вызвался деструктор ).***
На моменте ( return 0 ) в int main() мы имеем только одну строчку ( Вызвался конструктор ). Уже после ( return 0 ) и выхода выполняется деструктор.


В параграфе [[Перегрузка конструкторов класса]] мы узнали, что конструкторов может быть несколько. Деструктор в класса может быть только один.

***Деструктора с параметрами быть не может!***

# Пример с конструктором с аргументом

Рассмотрим еще один класс:

>class MyClass {
>int data;
>
>public:
>	MyClass( int value ) {
>		data = value;
>		cout << "Объект " << data << "Вызвался конструктор" << endl;
>	}
>	
>	**~MyClass() {
>		cout << "Объект " << data <<"Вызвался деструктор" << endl
>	}**
>} ;
>
>int main() {
>	setlocale( LC_ALL , "ru" );
>	MyClass a( 1 );
>	MyClass b( 2 );
>	return 0;
>}

Результат:

>Объект 1 Вызвался конструктор
>Объект 2 Вызвался конструктор
>Объект 2 Вызвался деструктор
>Объект 1 Вызвался деструктор

***Видим , что объекты уничтожаются в обратном порядке.***

# Пример с дополнительной функцией вне класса

Еще код:

>class MyClass {
>	то же самое , что и выше
>} ;
>
>void Foo() {
>	cout << "Foo начало выполнения" << endl;
>	MyClass a(1);
>	cout << "Foo конец выполнения" << endl;
>}
>
>int main() {
>	Foo();
>}

Результат программы:

>Foo начало выполнения
>Объект 1 вызвался конструктор
>Foo конец выполнения
>Объект 1 Вызвался деструктор

# Динамический массив в классе

>class MyClass {
>
>private:
>	int * data;               ***// указатель***
>	
>public:
>	MyClass( int size ) {
>		data = new int[size];        ***// выделяем место в памяти для массива***
>		for ( int i = 0 ; i < size ; i++ ) {
>			data[i] = i;
>		}
>	}
>	
>	~MyClass() {
>		delete[] data;     ***// уберегаем себя от утечки памяти***
>	}
>} ;
